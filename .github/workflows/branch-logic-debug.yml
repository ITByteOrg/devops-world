# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Workflow: branch-logic-debug
# Purpose : Diagnostic tool: test branch names - manually triggered
# Trigger : manually via workflow_dispatch
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
name: ğŸ” Branch Matching Debugger

on:
  workflow_dispatch:

jobs:
  branch-debug:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: ğŸ” Evaluate Branch Matching
        run: |
          echo "Full ref: ${GITHUB_REF}"
          echo "Branch name: ${GITHUB_REF#refs/heads/}"

          echo ""
          echo "âµ Matches flat 'feature'? â†’ $([[ '${GITHUB_REF}' == 'refs/heads/feature' ]] && echo YES || echo no)"
          echo "âµ Matches wildcard 'feature/*'? â†’ $(echo '${GITHUB_REF}' | grep -q '^refs/heads/feature/' && echo YES || echo no)"
          echo "âµ Matches fix/*? â†’ $(echo '${GITHUB_REF}' | grep -q '^refs/heads/fix/' && echo YES || echo no)"
          echo "âµ Matches hotfix/*? â†’ $(echo '${GITHUB_REF}' | grep -q '^refs/heads/hotfix/' && echo YES || echo no)"
          echo "âµ Matches docs/*? â†’ $(echo '${GITHUB_REF}' | grep -q '^refs/heads/docs/' && echo YES || echo no)"
