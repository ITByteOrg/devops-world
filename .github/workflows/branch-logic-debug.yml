name: üîç Branch Matching Debugger

on:
  workflow_dispatch:

jobs:
  branch-debug:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: üîç Evaluate Branch Matching
        run: |
          echo "Full ref: ${GITHUB_REF}"
          echo "Branch name: ${GITHUB_REF#refs/heads/}"

          echo ""
          echo "‚èµ Matches flat 'feature'? ‚Üí $([[ '${GITHUB_REF}' == 'refs/heads/feature' ]] && echo YES || echo no)"
          echo "‚èµ Matches wildcard 'feature/*'? ‚Üí $(echo '${GITHUB_REF}' | grep -q '^refs/heads/feature/' && echo YES || echo no)"
          echo "‚èµ Matches fix/*? ‚Üí $(echo '${GITHUB_REF}' | grep -q '^refs/heads/fix/' && echo YES || echo no)"
          echo "‚èµ Matches hotfix/*? ‚Üí $(echo '${GITHUB_REF}' | grep -q '^refs/heads/hotfix/' && echo YES || echo no)"
          echo "‚èµ Matches docs/*? ‚Üí $(echo '${GITHUB_REF}' | grep -q '^refs/heads/docs/' && echo YES || echo no)"
