#!/usr/bin/env bash
#====================================================================
# DEV
# Description : Dev-mode helpers, test scaffolding, or debugging hooks.
# ====================================================================

# Load shared utilities
source modules/shared-utils.sh

# Load environment variables
if [ -f .env ]; then
  export $(grep -v '^#' .env | xargs)
else
  echo-StdLog "‚ö†Ô∏è  Warning: .env file not found. Continuing without environment overrides." warn
fi


# Ensure venv is activated
source venv/Scripts/activate || {
  echo-StdLog "[ERROR]: Could not activate virtual environment." error
  echo-StdLog "[INFO]: Did you create it with: py -m venv venv ?" info
  exit 1
}

# Set up PYTHONPATH and run tests
export PYTHONPATH=src

echo-StdLog "üß™ Environment activated. Running tests..." raw
pytest "$@"
